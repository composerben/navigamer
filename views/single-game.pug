extends layout.pug

append head 
  link(rel="stylesheet", href="stylesheets/single-game.css")
  script(src="/javascripts/reviews.js" type="module" defer)

block content
  div#game__title 
    h1= game.gameName
  div#gameBody__container
    div#game__container
      div#gameImg__container
        img(src=game.imgUrl)
      div#gameData
        div#gameRelease
          h2 Release Date
          h3= game.releaseDate
        div#gameDeveloper
          h2 Developer
          h3= game.developer
        div#gamePlatforms
          h2 Platforms
          each platform in platforms
            h3= platform.name
  div(class="reviews__container")
    if errors
      div(class="review-error")
        ul(class="errors-ul")
          p Oops! Something went wrong:
          each error in errors
            li(class="error-li")= error
    form(action='/games/:id' method='post' class='review-form')
      div(class="review__add") 
        label(for='review-text') Write a review! 
        textarea(class="review-text" name="review-text", cols="30", rows="10")
      div
        label(for='rating-score') Your rating: 
        select(class="rating-score" name="rating-score" required)
          option(value="0" disabled selected) --Please select a rating-- 
          option(value="1") 1
          option(value="2") 2
          option(value="3") 3
          option(value="4") 4 
          option(value="5") 5
          option(value="6") 6
          option(value="7") 7
          option(value="8") 8
          option(value="9") 9 
          option(value="10") 10
        button(class="review-button" type='submit' data-id=`${gameId}`) Post Review
      div(class="user-reviews") 
        ul(class="review-list") User Reviews
          each review in reviews
            li= `${userLame}'s Review` 
            li= `${review.rating}/10`
            li= review.review
          
           

